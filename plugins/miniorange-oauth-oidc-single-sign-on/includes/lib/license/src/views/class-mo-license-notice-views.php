<?php


namespace MoOauthClient\LicenseLibrary\Views;

use MoOauthClient\LicenseLibrary\Classes\Mo_License_Constants;
use MoOauthClient\LicenseLibrary\Classes\Mo_License_Dao;
use MoOauthClient\LicenseLibrary\Mo_License_Config;
use MoOauthClient\LicenseLibrary\Mo_License_Service;
use MoOauthClient\LicenseLibrary\Utils\Mo_License_View_Utility;
if (defined("\x41\x42\x53\x50\101\x54\110")) {
    goto mU_;
}
exit;
mU_:
class Mo_License_Notice_Views
{
    protected $expiry_date;
    protected $remaining_days;
    protected $content_options;
    private function get_content_options()
    {
        $RS = Mo_License_Service::get_expiry_date();
        $yf = array("\x23\x23\x65\170\160\151\162\171\137\144\x61\x74\145\43\x23" => $RS, "\x23\x23\x72\x65\155\x61\x69\156\151\156\147\x5f\144\141\x79\x73\43\x23" => Mo_License_Service::get_expiry_remaining_days($RS), "\x23\x23\x64\x69\163\x61\142\154\145\137\x64\x61\x74\x65\43\43" => Mo_License_Service::get_disable_date($RS), "\x23\x23\147\162\141\x63\x65\x5f\144\x61\x79\163\137\154\145\146\164\x23\x23" => Mo_License_Service::get_grace_days_left($RS), "\43\x23\143\x75\163\164\157\x6d\x65\x72\x5f\x65\155\141\151\x6c\x23\x23" => Mo_License_Dao::mo_get_option(Mo_License_Config::CUSTOMER_EMAIL_OPTION));
        if (empty(Mo_License_Config::$notice_options)) {
            goto vGk;
        }
        foreach (Mo_License_Config::$notice_options as $Ln => $tm) {
            $yf["\x23\43" . $Ln . "\43\43"] = Mo_License_Dao::mo_get_option($tm);
            jeL:
        }
        kIg:
        vGk:
        return $yf;
    }
    public function get_license_notice()
    {
        $Vm = '';
        $nU = $this->get_content_options();
        if (Mo_License_Constants::EPOCH_DATE === $nU["\43\x23\145\170\160\151\162\x79\x5f\x64\x61\x74\145\43\x23"]) {
            goto nUY;
        }
        if (Mo_License_View_Utility::show_expiry_notice($nU["\43\x23\x72\x65\155\x61\x69\156\x69\x6e\x67\137\144\141\x79\x73\43\43"])) {
            goto PWc;
        }
        goto LGu;
        nUY:
        $Vm = $this->get_tampered_license_notice();
        goto LGu;
        PWc:
        $Vm = $this->get_expired_license_notice();
        LGu:
        return $Vm;
    }
    public function display_dashboard_widget()
    {
        $nU = $this->get_content_options();
        $UI = Mo_License_View_Utility::get_widget_notice($nU);
        $hs = "\xd\12\11\11\x3c\x64\151\166\40\143\x6c\141\x73\163\x3d\42\155\x6f\55\154\x69\x63\55\x64\141\x73\150\142\x6f\141\162\144\x2d\x77\151\x64\x67\145\164\x22\x3e\15\12\11\x9\11\74\144\x69\x76\40\163\x74\171\154\x65\x3d\42\167\151\144\x74\150\72\61\62\45\42\x3e\xd\12\11\11\x9\40\40\40\x20\x3c\x69\155\147\40\x73\162\x63\75\42" . esc_attr(plugins_url("\x76\x69\145\x77\163\134\x69\156\143\154\x75\144\x65\163\134\x69\155\141\x67\145\x73\x5c\155\x69\x6e\151\x6f\x72\141\x6e\x67\x65\x2d\x6c\157\147\x6f\56\x70\156\x67", dirname(__FILE__))) . "\42\x20\x61\154\164\75\x22\155\x69\156\x69\117\162\x61\x6e\x67\x65\x20\114\157\147\x6f\x22\x20\167\x69\144\164\150\75\x22\x35\x30\x70\x78\42\x2f\76\xd\xa\11\x9\11\74\x2f\x64\151\166\76\15\xa\x9\x9\11\x3c\144\151\x76\x20\163\164\x79\x6c\145\75\x22\x77\151\144\x74\150\x3a\40\x38\65\x25\73\x66\x6f\x6e\164\x2d\163\151\x7a\x65\72\40\x31\x2e\65\x65\155\73\x22\x3e" . Mo_License_Config::PLUGIN_NAME . "\74\x2f\x64\x69\166\76\15\12\x9\x9\74\57\144\151\166\76";
        if (empty($UI)) {
            goto SRb;
        }
        $hs .= "\xd\xa\40\40\x20\x20\40\x20\x20\40\x20\x20\x20\40\74\x64\151\x76\x20\x63\154\x61\163\163\x3d\42\155\157\55\154\x69\x63\x2d\167\x69\x64\147\x65\x74\55\143\x6f\x6e\x74\141\x69\x6e\x65\162\42\x3e\15\12\x9\x9\x9\40\40\x20\x20\74\160\x20\143\154\x61\163\x73\x3d\x22\x6d\x6f\x2d\154\151\x63\55\167\151\144\147\145\164\x2d\164\145\170\164\42\x3e" . $UI . "\x3c\x2f\160\x3e\15\12\11\11\x20\40\40\40\x3c\57\x64\151\166\76";
        SRb:
        $hs .= "\15\xa\40\40\40\x20\40\x20\40\40\x3c\x64\x69\x76\40\x73\164\171\x6c\x65\x3d\42\x74\145\x78\164\x2d\x61\x6c\151\x67\x6e\x3a\143\x65\x6e\164\x65\162\42\76\15\12\11\x9\x9\x3c\164\141\x62\x6c\145\x20\x63\154\x61\x73\163\x3d\x22\155\157\55\154\151\143\55\x77\151\x64\147\x65\x74\55\164\141\142\x6c\145\42\76\xd\xa\11\x9\11\x9\74\164\162\76\15\12\x9\x9\x9\x9\11\x3c\x74\x64\40\143\x6c\141\x73\x73\75\x22\155\157\55\x6c\151\143\x2d\x77\x69\x64\147\145\164\55\164\141\142\154\145\x2d\164\x65\170\x74\55\143\157\x6c\x31\42\76\74\x62\x3e\155\151\x6e\151\117\162\x61\156\x67\145\40\101\143\143\x6f\x75\156\x74\40\105\155\x61\x69\154\74\57\142\76\x3c\x2f\x74\x64\76\xd\xa\x9\11\x9\x9\x9\x3c\164\x64\40\x63\x6c\141\x73\x73\x3d\42\x6d\x6f\55\x6c\x69\x63\55\x77\x69\144\147\145\164\x2d\164\141\x62\154\x65\x2d\164\x65\170\164\x2d\x63\x6f\154\x32\42\76" . esc_html($nU["\43\x23\x63\x75\163\x74\157\155\145\162\137\x65\155\141\x69\154\43\x23"]) . "\x3c\57\164\x64\x3e\xd\xa\x9\x9\11\x9\74\x2f\x74\x72\x3e\xd\12\x9\x9\11\x9\74\x74\162\76\xd\12\x9\11\x9\x9\x9\x3c\x74\144\x20\x63\x6c\x61\163\x73\x3d\x22\x6d\157\55\154\x69\143\55\167\151\x64\x67\x65\164\55\x74\x61\x62\x6c\x65\55\x74\x65\170\164\x2d\143\x6f\154\x31\42\x3e\x3c\142\76\x50\154\165\147\x69\156\40\x4c\x69\143\145\x6e\163\x65\x20\105\170\160\151\x72\x79\40\x44\x61\164\x65\74\57\142\x3e\74\x2f\x74\x64\x3e\xd\12\x9\11\x9\x9\x9\74\x74\x64\40\143\154\141\x73\x73\75\x22\x6d\157\x2d\154\x69\143\x2d\x77\151\144\147\x65\x74\55\164\141\142\x6c\145\x2d\164\145\170\x74\x2d\143\x6f\x6c\62\42\x3e\xd\12\x9\x9\x9\x9\11\40\40\40\40\74\x66\x6f\162\155\x20\x6e\141\x6d\145\x3d\x22\155\x6f\x5f\163\x61\155\x6c\x5f\x72\x65\146\162\145\163\150\x5f\x65\x78\x70\x69\x72\171\x22\x20\x69\144\x3d\42" . Mo_License_Constants::DASHBOARD_WIDGET_REFRESH_ID . "\42\x20\x6d\145\x74\x68\157\144\75\x22\x50\117\x53\x54\x22\x3e\xd\xa\40\40\40\x20\x20\x20\40\x20\x20\40\40\x20\x20\40\x20\x20\40\40\40\x20\40\x20\x20\40\x20\x20\40\40" . wp_nonce_field(Mo_License_Constants::DASHBOARD_WIDGET_REFRESH_ID) . "\15\xa\40\x20\x20\40\x20\x20\x20\x20\x20\40\x20\x20\40\x20\x20\40\x20\x20\40\x20\x20\40\x20\40\x20\40\x20\x20\74\x69\156\160\x75\164\40\164\x79\x70\x65\75\x22\x68\x69\x64\144\145\x6e\42\40\156\x61\x6d\145\75\x22\x6f\160\164\151\x6f\x6e\x22\40\166\x61\154\165\145\75\42" . Mo_License_Constants::DASHBOARD_WIDGET_REFRESH_ID . "\x22\x3e\xd\12\x20\x20\40\40\x20\40\x20\x20\x20\x20\x20\x20\x20\40\x20\x20\40\40\40\x20\40\40\40\x20\40\40\40\40\74\142\x3e\40" . esc_html($nU["\x23\43\145\x78\160\x69\162\171\137\x64\141\x74\x65\x23\x23"]) . "\x20\74\x2f\x62\76\xd\12\40\x20\40\40\x20\x20\x20\40\40\40\x20\40\x20\x20\x20\40\40\40\40\40\x20\x20\x20\40\40\x20\40\40\x3c\142\x75\164\164\157\156\40\164\171\x70\x65\x3d\42\163\x75\142\x6d\151\x74\x22\40\143\x6c\x61\x73\163\75\x22\x6d\157\x2d\154\x69\143\x2d\x77\x69\144\147\x65\x74\55\162\145\x66\162\145\163\150\x22\x3e\46\x23\x78\x32\x31\142\x62\x3b\x3c\57\142\x75\x74\x74\157\156\x3e\15\12\40\40\x20\x20\x20\x20\40\40\x20\40\40\x20\40\x20\40\40\x20\x20\x20\x20\x20\40\40\x20\74\x2f\x66\157\x72\155\x3e\xd\12\x9\11\x9\11\11\40\x20\40\x20\15\12\x9\x9\x9\11\11\x3c\57\164\x64\x3e\15\xa\11\x9\x9\11\x3c\x2f\164\162\76\xd\12\x9\x9\11\74\x2f\x74\141\x62\154\x65\76\15\12\11\11\74\x2f\144\x69\x76\x3e\15\xa\x9\11\x3c\x64\151\166\x20\143\154\141\163\163\75\42\x6d\x6f\55\154\x69\143\55\167\x69\x64\147\145\164\x2d\163\x75\x70\160\x6f\162\x74\55\x6c\x69\x6e\153\163\x22\76\xd\12\x20\40\x20\x20\40\40\x20\x20\x20\40\x20\40\74\x64\151\x76\76\15\xa\x20\40\40\x20\x20\40\x20\x20\40\x20\40\40\40\x20\40\40\x3c\x61\x20\x68\x72\145\146\75\x22\141\x64\x6d\x69\156\56\160\150\160\x3f\x70\x61\x67\145\75" . esc_attr(Mo_License_Config::PLUGIN_SLUG) . "\42\x20\163\x74\x79\x6c\145\75\42\x63\157\154\157\162\x3a\x77\150\x69\x74\145\73\x22\76\xd\xa\x20\40\40\x20\x20\40\x20\40\x20\40\40\x20\40\x20\40\40\x3c\x62\165\164\x74\157\x6e\40\x63\154\141\x73\x73\75\x22\142\165\164\x74\157\x6e\40\x62\x75\164\x74\x6f\156\x2d\160\x72\151\155\141\x72\171\x20\142\x75\164\164\x6f\x6e\x2d\x6c\x61\x72\x67\x65\42\76\x3c\142\76\x47\157\x20\164\157\40\x70\x6c\165\147\151\156\x20\163\x65\x74\164\x69\156\147\x73\74\57\142\76\x3c\x2f\142\165\164\164\157\x6e\x3e\15\xa\40\40\x20\x20\40\x20\x20\40\40\40\40\x20\40\x20\40\x20\74\57\141\76\xd\12\40\x20\x20\x20\40\40\x20\40\40\x20\x20\x20\74\x2f\144\151\166\x3e\15\12\40\40\x20\x20\x20\x20\x20\x20\40\x20\40\40\74\x64\x69\166\76\xd\xa\x20\x20\x20\x20\x20\40\40\40\x20\40\x20\40\40\40\x20\40\116\145\x65\x64\40\141\x6e\171\40\x68\x65\x6c\160\x3f\x20\x43\157\156\164\141\143\x74\x20\x75\x73\40\x6f\156\40\xd\12\x20\x20\40\x20\x20\x20\40\x20\x20\40\x20\40\x20\40\x20\40\74\141\40\150\x72\145\x66\x3d\x22\x6d\x61\x69\154\x74\x6f\72" . esc_attr(Mo_License_Config::SUPPORT_EMAIL) . "\42\76\15\xa\40\x20\40\40\x20\x20\40\40\40\40\40\40\x20\x20\40\40\40\40\x20\x20\74\142\76" . esc_html(Mo_License_Config::SUPPORT_EMAIL) . "\x3c\x2f\142\x3e\xd\12\x20\40\x20\x20\x20\40\x20\x20\x20\40\40\40\x20\40\40\x20\x3c\57\141\76\15\12\40\x20\x20\40\x20\40\x20\x20\x20\x20\40\x20\74\x2f\x64\151\x76\x3e\15\12\x9\x9\74\x2f\144\x69\166\76";
        echo $hs;
    }
    private function get_tampered_license_notice()
    {
        $Vm = "\15\12\x9\x9\x9\74\x64\x69\x76\x20\x73\x74\x79\154\x65\75\x22\144\151\163\x70\x6c\x61\x79\72\x66\154\x65\170\x3b\42\x20\x63\x6c\141\163\163\75\42\x6e\157\164\x69\143\x65\x20\x6e\x6f\164\x69\x63\x65\x2d\x65\x72\x72\157\162\x22\x3e\xd\xa\40\40\40\x20\x20\40\40\x20\x20\x20\40\40\40\x20\x20\40\x3c\160\40\x63\154\x61\163\x73\75\42\x6d\157\x2d\154\151\143\55\141\x64\155\x69\156\x2d\x6e\157\x74\151\143\145\55\164\145\x78\164\42\x3e\xd\xa\11\11\x9\x9\11\74\x62\x3e\101\114\105\x52\124\72\74\x2f\142\76\x20\111\x74\40\163\145\x65\155\163\x20\x74\x68\x61\164\40\171\x6f\165\x72\x20\74\142\76\x3c\x61\x20\150\x72\x65\x66\x3d\x22\x61\144\x6d\x69\156\x2e\x70\x68\160\77\160\141\x67\x65\x3d" . Mo_License_Config::PLUGIN_SLUG . "\x22\76" . Mo_License_Config::PLUGIN_NAME . "\x3c\x2f\141\76\74\x2f\x62\76\40\x6c\151\143\145\156\163\x65\40\150\x61\x73\x20\x62\x65\145\x6e\40\xd\12\11\11\11\11\x9\164\x61\155\x70\145\162\x65\144\40\x61\156\144\40\150\x65\x6e\x63\x65\x20\x74\150\145\40\x70\x6c\165\x67\x69\156\x20\x68\x61\163\x20\163\164\157\x70\x70\x65\144\40\x77\x6f\x72\x6b\151\x6e\147\x2e\74\142\162\76\40" . $this->get_escaped_notice(Mo_License_Config::$tampered_notice_content) . "\15\xa\11\x9\11\11\x3c\57\160\x3e\15\xa\40\x20\x20\x20\x20\40\40\x20\40\40\40\40\74\x2f\x64\x69\166\x3e";
        return $Vm;
    }
    private function get_expired_license_notice()
    {
        $nU = $this->get_content_options();
        $rU = Mo_License_View_Utility::get_admin_notice_html(Mo_License_View_Utility::get_notice_day_key($nU["\43\43\162\x65\x6d\x61\x69\x6e\x69\x6e\147\x5f\144\141\171\x73\x23\x23"]), $nU);
        $Vm = "\xd\xa\40\x20\40\x20\40\40\x20\40\40\x20\40\40\74\144\151\166\x20\x73\x74\x79\154\145\75\x22\144\x69\163\160\154\141\171\x3a\x66\154\145\x78\73\42\40\143\154\141\x73\x73\75\42\x6e\x6f\164\151\143\x65\x20" . esc_attr(Mo_License_View_Utility::get_expiry_admin_notice_class($nU["\43\x23\x72\x65\155\141\x69\156\151\156\x67\137\144\141\171\163\x23\43"])) . "\x22\76\15\xa\40\x20\40\x20\40\40\x20\x20\x20\x20\x20\x20\x20\40\x20\40\74\144\x69\x76\x3e\xd\xa\x20\x20\40\40\40\40\40\x20\x20\x20\x20\40\40\x20\x20\40\40\x20\x20\x20\74\151\155\x67\x20\x73\162\x63\x3d\42" . esc_attr(plugins_url("\x76\x69\x65\x77\x73\x5c\x69\156\x63\154\165\x64\x65\x73\134\151\155\x61\x67\x65\163\x5c\155\151\x6e\151\x6f\162\x61\x6e\x67\x65\55\x6c\157\x67\x6f\56\160\156\147", dirname(__FILE__))) . "\42\x20\143\154\141\163\x73\75\42\141\x6c\x69\x67\x6e\x6c\145\x66\164\40\155\157\55\154\151\x63\55\141\144\155\x69\156\55\156\x6f\x74\x69\x63\145\x22\x20\141\154\164\75\42\x6d\x69\x6e\151\117\x72\141\x6e\147\x65\x20\x6c\157\147\157\x22\76\xd\12\x20\40\x20\40\x20\x20\x20\40\40\40\x20\x20\x20\40\40\x20\x3c\x2f\x64\151\166\76\xd\xa\40\x20\x20\40\x20\x20\40\40\x20\40\40\x20\40\x20\40\40\74\x64\x69\x76\x3e\xd\xa\11\11\x9\11\11\74\x64\x69\166\40\x63\x6c\x61\163\x73\x3d\42\x61\x6c\151\147\156\x72\151\x67\150\x74\42\40\163\164\x79\x6c\x65\75\42\x70\141\x64\x64\151\x6e\x67\x2d\164\x6f\160\72\x20\x31\62\160\170\x3b\x22\x3e\xd\xa\x9\x9\11\11\x9\11\74\141\x20\x68\x72\145\146\x3d\x22\141\144\155\151\x6e\56\160\x68\160\77\160\141\x67\x65\x3d" . esc_attr(Mo_License_Config::PLUGIN_SLUG) . "\x22\76\15\xa\11\x9\x9\11\x9\x9\40\40\x20\40\x3c\x62\x75\x74\164\x6f\156\x20\x63\x6c\x61\163\163\x3d\x22\142\165\164\x74\x6f\x6e\40\142\165\164\x74\157\x6e\x2d\160\162\x69\155\141\162\171\42\40\164\x79\x70\145\75\x22\142\165\164\x74\x6f\156\x22\76\107\157\40\x74\x6f\x20\120\154\165\147\151\156\x20\123\x65\x74\x74\151\x6e\147\163\x3c\x2f\x62\165\x74\164\157\156\x3e\xd\xa\x9\x9\x9\x9\11\x9\74\57\141\x3e\15\12\11\x9\x9\11\11\x3c\x2f\x64\151\x76\x3e\xd\xa\x9\x9\x9\x9\11\x3c\150\62\x20\x63\154\141\x73\163\75\42\155\157\55\x6c\151\143\55\x61\144\155\x69\156\55\156\157\x74\x69\x63\145\x2d\150\x65\x61\x64\x69\x6e\147\42\76" . esc_html($rU["\150\145\141\x64\x69\x6e\x67"]) . "\x3c\x2f\x68\62\76\15\xa\x9\11\x9\x9\x9\74\144\x69\166\40\x63\x6c\141\x73\x73\75\42\x61\x6c\x69\x67\156\x6c\145\146\164\x22\76" . $rU["\143\157\156\x74\x65\x6e\164"];
        if (!($nU["\x23\43\x72\x65\x6d\x61\x69\156\151\x6e\147\137\x64\141\x79\x73\x23\x23"] > 10)) {
            goto WbI;
        }
        $Vm .= "\15\12\11\11\11\11\x9\x9\74\x66\x6f\x72\155\x20\x6d\x65\x74\150\x6f\x64\x3d\42\x70\157\x73\164\42\x20\156\141\x6d\145\75\42\42\40\141\143\164\x69\x6f\156\75\42\x22\x20\x69\144\75\x22" . Mo_License_Constants::ADMIN_NOTICE_DISMISS_ID . "\42\76\x20" . wp_nonce_field(Mo_License_Constants::ADMIN_NOTICE_DISMISS_ID) . "\40\15\12\x9\x9\11\x9\11\11\11\x3c\x69\x6e\160\x75\164\x20\164\x79\160\145\x3d\x22\x68\151\x64\144\x65\156\42\40\156\141\155\145\75\x22\x6f\160\164\x69\157\x6e\x22\40\166\141\x6c\165\x65\x3d\x22" . Mo_License_Constants::ADMIN_NOTICE_DISMISS_ID . "\42\57\76\15\xa\40\40\40\x20\40\40\40\x20\x20\x20\40\40\x20\x20\40\40\40\x20\40\x20\40\x20\40\x20\11\74\x69\156\160\165\x74\40\x74\171\x70\x65\75\x22\163\165\x62\155\x69\164\x22\x20\x76\x61\154\165\x65\75\x22\104\151\163\x6d\x69\x73\x73\x22\x20\x69\x64\75\x22" . Mo_License_Constants::ADMIN_NOTICE_DISMISS_ID . "\42\40\x63\x6c\x61\x73\x73\75\x22\141\154\151\x67\156\x72\151\147\x68\x74\x20\142\x75\x74\x74\157\x6e\x20\x62\165\x74\164\x6f\x6e\x2d\x6c\151\x6e\153\x22\40\57\x3e\15\12\11\x9\x9\x9\x9\11\11\74\144\151\x76\40\143\x6c\x61\x73\x73\x3d\42\143\x6c\x65\141\x72\x22\76\74\x2f\x64\151\166\x3e\15\xa\11\11\x9\x9\x9\11\74\57\146\157\162\155\x3e";
        WbI:
        $Vm .= "\xd\xa\x20\x20\x20\x20\40\x20\40\40\40\40\40\40\x20\40\x20\40\x20\x20\x20\x20\74\57\144\151\x76\x3e\xd\xa\x9\11\11\11\74\x2f\144\151\x76\x3e\xd\12\40\x20\40\x20\40\40\x20\40\x20\x20\x20\40\74\57\144\x69\x76\x3e";
        return $Vm;
    }
    private function get_escaped_notice($Vm)
    {
        return wp_kses($Vm, array("\142" => array(), "\x61" => array("\x68\x72\x65\146" => array())));
    }
}
